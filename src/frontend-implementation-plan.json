{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Pawfect Care — Fix production image rendering (static assets + base-path-safe URLs + fallbacks)",
  "requirements": [
    {
      "id": "REQ-13",
      "summary": "Eliminate all broken images on the landing page by ensuring every referenced image resolves and renders in production.",
      "acceptanceCriteria": [
        "Visiting the deployed site shows no broken-image icons/blank image containers in Hero, Overview, Services, and the end-of-page gallery.",
        "Browser DevTools Network tab shows 200 responses (no 404/ERR) for all image requests used by the landing page.",
        "All <img> elements in the landing page have non-empty, valid src values at runtime (no undefined/null/empty strings)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/PawfectCareLanding.tsx",
          "operation": "modify",
          "description": "Replace all hard-coded image src strings with a shared base-path-safe asset URL helper and render images via a single safe image wrapper so every image request resolves in production (Hero, Overview, Services, and gallery)."
        },
        {
          "path": "frontend/src/lib/publicAssetUrl.ts",
          "operation": "create",
          "description": "Add a small helper that builds a correct static-asset URL using the runtime base path (e.g., import.meta.env.BASE_URL) so image URLs resolve under both root and non-root deployments."
        },
        {
          "path": "frontend/src/components/SafeImage.tsx",
          "operation": "create",
          "description": "Add a reusable SafeImage component that always receives a non-empty src string and handles loading failures gracefully (used across the landing page images)."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Add a themed placeholder style (using existing CSS variables/tailwind tokens) for image fallbacks so failed images never show broken-image icons and still look intentional."
        }
      ]
    },
    {
      "id": "REQ-14",
      "summary": "Audit and correct all image paths in PawfectCareLanding so they work under any deployed base path without changing layout.",
      "acceptanceCriteria": [
        "No image src in PawfectCareLanding relies on a deployment-breaking absolute path assumption (e.g., paths that fail when the app is not served at domain root).",
        "All images render correctly when the app is served from both root (/) and a non-root base path environment.",
        "No console errors related to failed image loads occur on initial page load."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/PawfectCareLanding.tsx",
          "operation": "modify",
          "description": "Update all image references currently using absolute paths like \"/assets/...\" to use the new base-path-aware helper (keeping the same image placements, aspect ratios, and layout)."
        },
        {
          "path": "frontend/src/lib/publicAssetUrl.ts",
          "operation": "create",
          "description": "Implement base-path-safe URL construction for public static assets to avoid absolute-path assumptions that break under different host/base configurations."
        }
      ]
    },
    {
      "id": "REQ-15",
      "summary": "Ensure all uploaded landing-page images (including image-18.png) are present as frontend static assets and referenced filenames match the build output.",
      "acceptanceCriteria": [
        "The built/deployed app contains the uploaded images at the exact paths referenced by the frontend.",
        "image-18.png is present as a static asset in the deployed app and can be loaded directly via its resolved URL without error.",
        "No references remain to image files that are missing from the project’s static assets."
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/uploaded/image-18.png",
          "operation": "create",
          "description": "Add the newly uploaded image-18.png to the public static assets folder so it is included in the frontend build output and can be resolved via the base-path-safe URL helper."
        },
        {
          "path": "frontend/public/assets/uploaded/image.png",
          "operation": "create",
          "description": "Ensure image.png exists in the public uploaded-assets folder to match the filename referenced by the landing page."
        },
        {
          "path": "frontend/public/assets/uploaded/image-1.png",
          "operation": "create",
          "description": "Ensure image-1.png exists in the public uploaded-assets folder to match the filename referenced by the landing page/gallery."
        },
        {
          "path": "frontend/public/assets/uploaded/image-2.png",
          "operation": "create",
          "description": "Ensure image-2.png exists in the public uploaded-assets folder to match the filename referenced by the landing page/gallery."
        },
        {
          "path": "frontend/public/assets/uploaded/image-3.png",
          "operation": "create",
          "description": "Ensure image-3.png exists in the public uploaded-assets folder to match the filename referenced by the landing page/gallery."
        },
        {
          "path": "frontend/public/assets/uploaded/image-4.png",
          "operation": "create",
          "description": "Ensure image-4.png exists in the public uploaded-assets folder to match the filename referenced by the landing page."
        },
        {
          "path": "frontend/public/assets/uploaded/image-5.png",
          "operation": "create",
          "description": "Ensure image-5.png exists in the public uploaded-assets folder to match the filename referenced by the landing page."
        },
        {
          "path": "frontend/public/assets/uploaded/image-6.png",
          "operation": "create",
          "description": "Ensure image-6.png exists in the public uploaded-assets folder to match the filename referenced by the landing page/gallery."
        },
        {
          "path": "frontend/public/assets/uploaded/image-7.png",
          "operation": "create",
          "description": "Ensure image-7.png exists in the public uploaded-assets folder to match the filename referenced by the landing page/gallery."
        },
        {
          "path": "frontend/public/assets/uploaded/image-8.png",
          "operation": "create",
          "description": "Ensure image-8.png exists in the public uploaded-assets folder to match the filename referenced by the landing page."
        },
        {
          "path": "frontend/public/assets/uploaded/image-9.png",
          "operation": "create",
          "description": "Ensure image-9.png exists in the public uploaded-assets folder to match the filename referenced by the landing page/gallery."
        },
        {
          "path": "frontend/public/assets/uploaded/image-10.png",
          "operation": "create",
          "description": "Ensure image-10.png exists in the public uploaded-assets folder to match the filename referenced by the landing page hero section."
        },
        {
          "path": "frontend/public/assets/uploaded/image-11.png",
          "operation": "create",
          "description": "Ensure image-11.png exists in the public uploaded-assets folder to match the filename referenced by the landing page."
        },
        {
          "path": "frontend/public/assets/uploaded/image-12.png",
          "operation": "create",
          "description": "Ensure image-12.png exists in the public uploaded-assets folder to match the filename referenced by the landing page/gallery."
        },
        {
          "path": "frontend/public/assets/uploaded/image-13.png",
          "operation": "create",
          "description": "Ensure image-13.png exists in the public uploaded-assets folder to match the filename referenced by the services section."
        },
        {
          "path": "frontend/public/assets/uploaded/image-14.png",
          "operation": "create",
          "description": "Ensure image-14.png exists in the public uploaded-assets folder to match the filename referenced by the services section/gallery."
        },
        {
          "path": "frontend/public/assets/uploaded/image-15.png",
          "operation": "create",
          "description": "Ensure image-15.png exists in the public uploaded-assets folder to match the filename referenced by the services section/gallery."
        },
        {
          "path": "frontend/public/assets/uploaded/image-16.png",
          "operation": "create",
          "description": "Ensure image-16.png exists in the public uploaded-assets folder to match the filename referenced by the services section/gallery."
        },
        {
          "path": "frontend/public/assets/uploaded/image-17.png",
          "operation": "create",
          "description": "Ensure image-17.png exists in the public uploaded-assets folder to match the filename referenced by the landing page/gallery."
        },
        {
          "path": "frontend/src/components/PawfectCareLanding.tsx",
          "operation": "modify",
          "description": "Verify the landing page references only filenames that exist under frontend/public/assets/uploaded/ (including image-18.png) and remove/replace any references to missing files so the deployed build contains all required assets."
        }
      ]
    },
    {
      "id": "REQ-16",
      "summary": "Add a themed, layout-preserving fallback so failed images never show browser broken-image icons across the landing page.",
      "acceptanceCriteria": [
        "If an image fails to load, the UI replaces it with a consistent themed placeholder (not the browser broken-image icon).",
        "The fallback preserves layout dimensions to avoid content jump/layout shift.",
        "Fallback behavior is applied to all landing page images (hero, overview grid, services cards, and gallery strip)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/SafeImage.tsx",
          "operation": "create",
          "description": "Implement an onError-based fallback that swaps the failed <img> for a themed placeholder while preserving the intended dimensions (support passing width/height or relying on the parent aspect-ratio wrapper)."
        },
        {
          "path": "frontend/src/components/PawfectCareLanding.tsx",
          "operation": "modify",
          "description": "Use the SafeImage component for every landing page image (hero, overview grid, services cards, and gallery strip) so fallback behavior is consistently applied everywhere."
        },
        {
          "path": "frontend/src/index.css",
          "operation": "modify",
          "description": "Add minimal CSS classes used by SafeImage to render a consistent placeholder (matching the existing theme tokens) and to keep spacing/dimensions stable during fallback."
        }
      ]
    }
  ]
}